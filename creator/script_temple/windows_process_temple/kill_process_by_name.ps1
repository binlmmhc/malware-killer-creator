$kill_process_by_name = $true
$malicious_process_names = ( 
    "notepad"
)

if($kill_process_by_name){ 
    Try{ 
        ForEach($malicious_process_name in $malicious_process_names){ 
            $process  = Get-Process -Name $malicious_process_name -ErrorAction SilentlyContinue
            if($process){ 
                if($process.count -gt 1){ 
                    ForEach($ps in $process){ 
                        $ps.Kill()
                        $namepid = $ps.Name + " " + $ps.Id
                        
                        Write-Host "[+] Kill malicious process $namepid  successfully." -ForegroundColor Green -BackgroundColor Black
                    }
                }
                else{ 
                    $process.Kill()
                    $namepid = $malicious_process_name + " " + $process.Id
                    Write-Host "[+] Kill malicious process $namepid successfully." -ForegroundColor Green -BackgroundColor Black
                }
            }
        }
    }
    Catch{ 
        Write-Host "[-] Some thing wrong while kill process by name." -ForegroundColor Red -BackgroundColor Balck
    }
}